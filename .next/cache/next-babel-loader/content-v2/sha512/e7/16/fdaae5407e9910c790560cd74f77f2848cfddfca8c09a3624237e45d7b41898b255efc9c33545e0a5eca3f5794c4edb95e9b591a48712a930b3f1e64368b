{"ast":null,"code":"const axios = require(\"axios\");\n\nconst firebase = require(\"../firebase\");\n\nexport const axiosPublic = axios.create({\n  baseURL: \"http://localhost:8000/api/v1/auth/\"\n});\nexport const axiosAuth = axios.create({\n  baseURL: \"http://localhost:8000/api/v1/auth/\"\n});\naxiosAuth.interceptors.request.use(async config => {\n  let user = await firebase.auth().currenuser;\n  config.headers.token = user ? await user.getIdToken(true) : \"\";\n  return config;\n}, error => {\n  return Promise.reject(error);\n});","map":{"version":3,"sources":["/home/rodflow/Develop/React/nextjs/loginmd/actions/axios.js"],"names":["axios","require","firebase","axiosPublic","create","baseURL","axiosAuth","interceptors","request","use","config","user","auth","currenuser","headers","token","getIdToken","error","Promise","reject"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,aAAD,CAAxB;;AAEA,OAAO,MAAME,WAAW,GAAGH,KAAK,CAACI,MAAN,CAAa;AACtCC,EAAAA,OAAO,EAAE;AAD6B,CAAb,CAApB;AAIP,OAAO,MAAMC,SAAS,GAAGN,KAAK,CAACI,MAAN,CAAa;AACpCC,EAAAA,OAAO,EAAE;AAD2B,CAAb,CAAlB;AAIPC,SAAS,CAACC,YAAV,CAAuBC,OAAvB,CAA+BC,GAA/B,CACE,MAAOC,MAAP,IAAkB;AAChB,MAAIC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAT,GAAgBC,UAAjC;AACAH,EAAAA,MAAM,CAACI,OAAP,CAAeC,KAAf,GAAuBJ,IAAI,GAAG,MAAMA,IAAI,CAACK,UAAL,CAAgB,IAAhB,CAAT,GAAiC,EAA5D;AACA,SAAON,MAAP;AACD,CALH,EAMGO,KAAD,IAAW;AACT,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARH","sourcesContent":["const axios = require(\"axios\");\nconst firebase = require(\"../firebase\");\n\nexport const axiosPublic = axios.create({\n  baseURL: \"http://localhost:8000/api/v1/auth/\",\n});\n\nexport const axiosAuth = axios.create({\n  baseURL: \"http://localhost:8000/api/v1/auth/\",\n});\n\naxiosAuth.interceptors.request.use(\n  async (config) => {\n    let user = await firebase.auth().currenuser;\n    config.headers.token = user ? await user.getIdToken(true) : \"\";\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n"]},"metadata":{},"sourceType":"module"}